# 以太网 MTU 与帧结构总结

## 1. MTU 的来源

- **MTU (Maximum Transmission Unit)**：表示网络层（IP 包）在链路层单次可承载的最大数据长度。
- 对于以太网，标准 MTU 为 **1500 字节**。
- 原因：以太网帧总长最大为 **1518 字节**，其中：
  - 帧头 14 字节
  - 数据部分（Payload）最大 1500 字节
  - 帧尾（FCS）4 字节

因此，网络层数据包（IP 包）必须被切分成不超过 1500 字节的部分，每一部分交由链路层封装成以太网帧传输。

---

## 2. 以太网帧结构 (IEEE 802.3)

### 完整组成

```
| 前导码 (7) | SFD (1) | 目标MAC (6) | 源MAC (6) | 类型/长度 (2) | 数据 (46~1500) | FCS (4) |
```

- **前导码 (7 字节)**  
  固定为 10101010，用于接收方时钟同步。

- **SFD (Start Frame Delimiter，1 字节)**  
  固定为 10101011，标识帧正式开始。

- **目标 MAC 地址 (6 字节)**  
  接收方网卡地址。

- **源 MAC 地址 (6 字节)**  
  发送方网卡地址。

- **类型/长度 (2 字节)**  
  - ≥ 1536 表示上层协议类型（如 0x0800 = IPv4，0x86DD = IPv6）。
  - < 1500 表示数据字段长度。

- **数据部分 (46 ~ 1500 字节)**  
  实际传输的上层数据（如 IP 包）。不足 46 字节时需填充。

- **FCS (Frame Check Sequence，4 字节)**  
  CRC32 校验值，用于检测传输错误。

---

## 3. 帧长度计算

- 14 字节帧头 + 最大 1500 字节数据 + 4 字节帧尾 = **1518 字节**
- 不包括：前导码 (7) + SFD (1)，它们属于物理层同步字段，不计入帧长。

---

## 4. 总结

- MTU=1500 的限制来自以太网帧的数据部分最大长度。  
- 以太网帧总长 1518 字节，其中：  
  - 帧头 14 字节（目标 MAC、源 MAC、类型/长度）  
  - 数据最大 1500 字节  
  - 帧尾 FCS 4 字节  
- 前导码 + SFD 共 8 字节，用于同步和起始标识，不计入帧长。  
